(function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],d=0,b=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1ee3":function(e,t,n){},"35ad":function(e,t,n){"use strict";n("1ee3")},"4a35":function(e,t,n){},"4adb":function(e,t,n){},"4c54":function(e,t,n){},5093:function(e,t,n){"use strict";n("4c54")},"52a8":function(e,t,n){"use strict";n("d0c0")},5532:function(e,t,n){"use strict";n("672e")},"55e9":function(e,t,n){"use strict";n("5d37")},"5d37":function(e,t,n){},"5e1a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAAAsCAYAAAATtugDAAAACXBIWXMAAAsSAAALEgHS3X78AAACpUlEQVR4nO3dMZLTMBSA4bcMM5TLDcgFNOQGgoKa1Q1S0ZIbQFqqLBdg620cbhCfgGTcUG466NiSKoyYl8G7RLGcyLIz83+l7WI3evNG1pOeL7bbrfTJWDeuymLV6x+Bs9Rb8BrrnovIjYi81UtrEZkQyIjVS/Aa6640cC/r16uyuGDkEOtpzl9qT7atWzNqaONJrl9Ls+1dIHA3IvKRkUMbnWdeY91Is60NPHLtA7cqi1+MHNroNHiNdVPNqJd7bm/0BW3JiOEYnQQv2RY5JA9esi1ySRa8Edl2JiJzsi1SSRK8xjqfaT8EblN8QCdOCl5f2tVs+zLwyKwqC5bA0Imjg5dsi761Dl6yLYYiOni1tDs9kG1LzbZ3jC5yiApeY90rzbYv9ty+1zXbOSOGnA4Gr2ZbPwV4H3iEbIveBIOXbIuh+y94ybY4Fw82oxvr3onIp0Bp97eILETkO6OLnq2qslj8DV7Ntrci8oZRwZmY7aYNywPrtsAQTXYnKfzL2ReGCGfkZt+c97OIPNvzP/zUOe8PRhg9+zfnrWs4JCmUfzEUwaPvxrqJ338bWHlguQy9C54ersrCZ9+xBupjfsP5Sk9NAL2IajrScLTHB/cVJySQW3THnIatkPc6jVgwgsildbunhk3oXzWIycLo3FG9yjQLLwKbdjghjCyObrQXsYGH3gzo1MldIhu2Tm70ZY6zbEju5EZ7Oj0Y63z3MR/Q33SeDCSVtD9vqO+u4kQxkkra4lSXykaBwoZfYltS2EAqnXVGjyhsUF7GSTpt69/Qv8wXNqZahgZay/JNCgob6EK2D6pQXkZq2b8GZKybBwob66osxowwYmX7oMpOVRb+Re61FjDqOEOHVrIHrzwsbFzXLq/1BQ+IMoTPt45YMkNrIvIHOi4r7pT9LlIAAAAASUVORK5CYII="},"606a":function(e,t,n){},"672e":function(e,t,n){},"720d":function(e,t,n){},7390:function(e,t,n){"use strict";n("b6cb")},"7ab3":function(e,t,n){},8396:function(e,t,n){"use strict";n("606a")},"887a":function(e,t,n){e.exports=n.p+"img/searching.a0fe9d5e.png"},"8c14":function(e,t,n){"use strict";n("bef3")},b421:function(e,t,n){"use strict";n("4adb")},b57a:function(e,t,n){"use strict";n("720d")},b6cb:function(e,t,n){},bd4e:function(e,t,n){},bef3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(e,t,n,o,r,a){var s=Object(i["m"])("Main");return Object(i["h"])(),Object(i["c"])(s)}var r=Object(i["q"])("data-v-1fe97fbe");Object(i["j"])("data-v-1fe97fbe");var a={class:"main"},s={class:"main-header"},c=Object(i["f"])("h1",null,"Bookinist",-1),l=Object(i["f"])("input",{id:"query"},null,-1),u={class:"search-result"},d=Object(i["f"])("canvas",{id:"gradient-canvas","data-js-darken-top":"","data-transition-in":""},null,-1);Object(i["i"])();var b=r((function(e,t,n,o,r,b){var h=Object(i["m"])("Loading"),f=Object(i["m"])("SearchItem"),v=Object(i["m"])("BookSelected");return Object(i["h"])(),Object(i["c"])("div",a,[Object(i["f"])("div",s,[c,Object(i["f"])("form",{onSubmit:t[1]||(t[1]=Object(i["p"])((function(){}),["prevent"])),onInput:t[2]||(t[2]=function(){return e.input&&e.input.apply(e,arguments)})},[l],32)]),Object(i["f"])(h),Object(i["f"])("div",u,[(Object(i["h"])(),Object(i["c"])(i["a"],null,Object(i["l"])([1,2,3,4],(function(t,n){return Object(i["f"])("div",{class:"search-column",key:t},[(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(e.eachNth(e.store.state.searchResult,n,4),(function(t,n){return Object(i["h"])(),Object(i["c"])(f,{key:n,title:t.title,author:t.author,cover:t.cover,url:t.url,id:e.store.state.searchResult.indexOf(t),index:n},null,8,["title","author","cover","url","id","index"])})),128))])})),64))]),Object(i["f"])(v),d])})),h=(n("a630"),n("3ca3"),n("159b"),n("ac1f"),n("841c"),n("5530")),f=(n("b64b"),n("cffa")),v=Object(i["k"])({searchResult:[],author:{},info:{},book:{},genre:{},similars:[],downloads:null,isLoading:!1,shouldSearchAbort:!1,timelines:{}}),m=Object(i["k"])({}),g={animateBookScreen:function(){v.timelines.showBook=f["a"].timeline().to(".main",.5,{scrollTo:{y:0}}).fromTo(".book-selected",{autoAlpha:0},{autoAlpha:1,opacity:1,scale:1}).fromTo(".book-cover",.6,{opacity:0,y:35},{scale:1,opacity:1,y:0},"<.1").fromTo(".author-photo",.6,{scale:0},{scale:1,opacity:1,ease:"back"},"<.1").fromTo([".author-name",".book-title",".book-year",".info-header",".similars-header"],1,{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)",stagger:0},"<.1").fromTo(".author-bio, .book-description",.6,{opacity:0,y:15},{scale:1,opacity:1,y:0,stagger:.1},"<.1")},hideBookScreen:function(){return v.timelines.hideBookScreen=f["a"].timeline().to(".book-selected .book-cover",.3,{opacity:0,y:15}).to(".author-photo",.3,{opacity:0,scale:.8},"<.1").to([".author-name",".book-title",".book-year",".info-header",".similars-header"],.3,{opacity:"inset(0 100% 0 0)",stagger:.2},"<.1").to(".author-bio, .book-description",.3,{opacity:0,scale:.8},"<.1").to(".book-selected",.3,{autoAlpha:0},"<.1")},showSearchScreen:function(){return v.timelines.showSearch=f["a"].timeline().to(".main",.5,{scrollTo:{y:0}}).set(".search-result",{display:"flex",autoAlpha:1},"<").set(".search-column",{opacity:1}).fromTo(".search-column",1,{y:"100vh"},{y:0,ease:"power2.out",stagger:.1})},hideSearchScreen:function(){return v.timelines.hideSearch=f["a"].timeline().set(".search-column",{opacity:0}).set(".search-result",{display:"none"})},setAuthor:function(e){v.author=e},setAuthorDetails:function(e){v.author.books=e.books,delete e.books,v.author.details=e},setBook:function(e){v.book=e},setGenre:function(e){v.genre=e},setInfo:function(e){v.info=e},setSimilars:function(e){v.similars=e},setDownloads:function(e){v.downloads=e,e&&!Object.keys(e).length&&(f["a"].to(".downloads-loader",{scale:0}),f["a"].to(".downloads",{height:0}))},setSearchResult:function(e){v.searchResult=e},clearBook:function(){v.book={},v.similars=[],v.author={},v.genre={}}},p=Object(h["a"])({state:v,getters:m},g),y=(n("a4d3"),n("e01a"),n("bc3a")),O=n.n(y),j=function(e){var t=e.url,n=e.title,i=e.cover,o=e.author;p.state.downloads={},p.state.similars=[],O.a.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL||"","/select"),{url:t,title:n,cover:i,author:o}).then((function(e){p.state.isLoading=!1;var t=e.data,n=t.title,i=t.author,o=t.cover,r=t.description,a=t.authorPhoto,s=t.authorBio,c=t.authorBooks,l=t.info,u=t.year,d=t.genres,b=t.reviews,h=t.similars,v=t.downloadLinks;i&&p.setAuthor({name:i,photo:a,bio:s,books:c}),l&&p.setInfo(l),p.setBook({title:n,cover:o,author:i,description:r,year:u,genres:d,reviews:b,downloadLinks:v||{}}),p.setSimilars(h),p.hideSearchScreen(),f["a"].to(".main",{scrollTo:{y:0}});var m=l["Edition Langauge"]||l["Langauge"]||/[а-я]/.test(n)?"Russian":"English";k.download({title:n,author:i,language:m}),setTimeout((function(){f["a"].set(".author-bio",{overflow:"hidden"});var e=document.querySelector(".center .book-title");if(e.scrollWidth>e.offsetWidth){var t=e.scrollWidth,n=e.textContent.length,i=200-n,o=t/i;f["a"].to(e,o,{scrollTo:{x:"max"},delay:3,yoyo:!0,repeat:-1,repeatDelay:2,ease:"none"})}p.animateBookScreen()}),100)}))},w=function(e){O.a.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL||"","/search"),{query:e}).then((function(e){var t,n,i;if(!p.state.shouldSearchAbort){p.state.isLoading=!1;var o=window.innerWidth<window.innerHeight;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.books&&null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&null!==(i=n.books)&&void 0!==i&&i.length){var r=e.data.books;p.state.searchResult!==r&&p.setSearchResult(r),p.showSearchScreen(),o&&f["a"].to(".main-header",1,{marginTop:"40px",ease:"power2.inOut"})}}})).catch((function(e){return console.log(e)}))},x=function(e){p.hideBookScreen(),O.a.post("/genre",{url:e}).then((function(e){p.setSearchResult(e.data.books),p.showSearchScreen()})).catch((function(e){return console.log(e)}))},S=function(e){f["a"].fromTo(".downloads-loader",{scale:0},{scale:1}),O.a.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL||"","/download"),{title:e.title,author:e.author,language:e.language}).then((function(e){Object.keys(e.data.downloads)?(p.setDownloads(e.data.downloads),setTimeout((function(){f["a"].timeline().to(".downloads-loader",{scale:0}).to(".downloads-link",{scale:1})}),100)):f["a"].timeline().to(".downloads-loader",{scale:0}).to(".downloads",{height:0})}))},k={select:j,search:w,genre:x,download:S},L=Object(i["q"])("data-v-a1473174");Object(i["j"])("data-v-a1473174");var C={key:0,class:"book-selected"},A={class:"left section"},_={class:"center section"},D={class:"right section"};Object(i["i"])();var E=L((function(e,t,n,o,r,a){var s=Object(i["m"])("Author"),c=Object(i["m"])("Book"),l=Object(i["m"])("Downloads"),u=Object(i["m"])("Similars"),d=Object(i["m"])("Info"),b=Object(i["m"])("Genres"),h=Object(i["m"])("Reviews");return e.bookStore.state.book.title?(Object(i["h"])(),Object(i["c"])("div",C,[Object(i["f"])("div",A,[Object(i["f"])(s)]),Object(i["f"])("div",_,[Object(i["f"])(c),Object(i["f"])(l),Object(i["f"])(u)]),Object(i["f"])("div",D,[Object(i["f"])(d),Object(i["f"])(b),Object(i["f"])(h)])])):Object(i["d"])("",!0)})),B=(n("5319"),Object(i["q"])("data-v-5da196b0"));Object(i["j"])("data-v-5da196b0");var z={class:"book-cover"},N={class:"book-text"},T={class:"book-title header"},I={class:"book-year"},U=Object(i["f"])("div",{class:"book-buttons"},null,-1);Object(i["i"])();var F=B((function(e,t,n,o,r,a){return e.store.state.book.title?(Object(i["h"])(),Object(i["c"])("div",{key:0,class:"book",id:"book-"+e.id,"data-url":e.url},[Object(i["f"])("div",z,[Object(i["f"])("img",{src:e.store.state.book.cover,alt:"title"},null,8,["src"])]),Object(i["f"])("div",N,[Object(i["f"])("div",T,Object(i["n"])(e.store.state.book.title.replace(/\s\(.+\)$/,"")),1),Object(i["f"])("div",I,Object(i["n"])(e.store.state.book.year),1),Object(i["f"])("div",{class:"book-description",id:"book-description",innerHTML:e.store.state.book.description},null,8,["innerHTML"]),U])],8,["id","data-url"])):Object(i["d"])("",!0)})),M=(n("a9e3"),n("9420"));f["a"].registerPlugin(M["a"]);var R=Object(i["g"])({name:"Book",props:{id:Number,title:String,author:String,cover:String,year:String,description:String,index:Number,url:String,isbn:String,isSearch:Boolean},setup:function(){return{store:p}},data:function(){return{descriptionValue:this.description,authorPhoto:"",authorBio:"",info:{},backButton:n("5e1a"),bookInfoTimeline:f["a"].timeline(),bookTimeline:f["a"].timeline()}},methods:{findSimilar:function(e){console.log(e),O.a.post("http://127.0.0.1:8000/similar",{seeMoreLink:e}).then((function(e){p.setSimilars(e.data.similars)}))}}});n("8396");R.render=F,R.__scopeId="data-v-5da196b0";var q=R,P=(n("b0c0"),n("1276"),n("fb6a"),{key:0,class:"author bordered"}),G={class:"author-header"},V={class:"author-text"},H={class:"author-name header"},Y={class:"author-photo"},W=Object(i["f"])("div",{class:"author-photo-border"},null,-1),K={key:0,class:"author-books"},Q={class:"author-books-header bordered"};function X(e,t,n,o,r,a){var s,c=Object(i["m"])("AuthorBook");return e.store.state.author.name?(Object(i["h"])(),Object(i["c"])("div",P,[Object(i["f"])("div",G,[Object(i["f"])("div",V,[Object(i["f"])("div",H,Object(i["n"])(e.store.state.author.name),1)]),Object(i["f"])("div",Y,[Object(i["f"])("img",{class:"author-photo-img",src:e.store.state.author.photo,alt:e.store.state.author.name},null,8,["src","alt"]),W])]),Object(i["f"])("div",{class:"author-bio",id:"author-bio",innerHTML:null===(s=e.store.state.author.bio)||void 0===s?void 0:s.replace(e.store.state.author.bio.split("</p>")[0]+"</p>","")},null,8,["innerHTML"]),e.store.state.author.books&&e.store.state.author.books.length?(Object(i["h"])(),Object(i["c"])("div",K,[Object(i["f"])("h3",Q,Object(i["n"])(e.store.state.author.name.split(" ").slice(-1).pop()+"'s")+" Best Books",1),(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(e.store.state.author.books,(function(e){return Object(i["h"])(),Object(i["c"])(c,{key:e.title,cover:e.cover,title:e.title,url:e.url,author:e.author,description:e.description},null,8,["cover","title","url","author","description"])})),128))])):Object(i["d"])("",!0)])):Object(i["d"])("",!0)}var Z=Object(i["q"])("data-v-e1f795d2");Object(i["j"])("data-v-e1f795d2");var J={class:"book-cover"},$={class:"book-text"},ee={class:"book-title"},te={class:"book-author"},ne={class:"book-description"};Object(i["i"])();var ie=Z((function(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",{class:"author-book bordered",id:"book-"+e.id,onClick:t[1]||(t[1]=function(){return e.select&&e.select.apply(e,arguments)}),"data-url":e.url},[Object(i["f"])("div",J,[Object(i["f"])("img",{src:e.cover,alt:e.title},null,8,["src","alt"])]),Object(i["f"])("div",$,[Object(i["f"])("div",ee,Object(i["n"])(e.title),1),Object(i["f"])("div",te,Object(i["n"])(e.author),1),Object(i["f"])("div",ne,Object(i["n"])(e.description),1)])],8,["id","data-url"])}));f["a"].registerPlugin(M["a"]);var oe=Object(i["g"])({name:"AuthorBook",props:{id:Number,title:String,author:String,cover:String,description:String,year:String,index:Number,url:String,isbn:String,isSearch:Boolean},methods:{select:function(e){var t=e.target;t.classList.contains("author-book")&&this.url&&this.title&&this.cover&&this.author&&k.select({url:this.url,title:this.title,cover:this.cover,author:this.author})}}});n("8c14");oe.render=ie,oe.__scopeId="data-v-e1f795d2";var re=oe,ae=Object(i["g"])({name:"Author",components:{AuthorBook:re},setup:function(){return Object(i["o"])((function(){p.state.author.details&&setTimeout((function(){return f["a"].timeline().fromTo(".author-details-row",1,{borderColor:"#2c3e5000"},{borderColor:"#2c3e5027"}).fromTo(".author-details-key",1,{yPercent:120},{yPercent:0,opacity:1},"<").fromTo(".author-details-value",1,{yPercent:120},{yPercent:0,opacity:1},"<")}),50)})),{store:p}}});n("de88");ae.render=X;var se=ae,ce=(n("4de4"),n("4fad"),Object(i["q"])("data-v-70f0ff68"));Object(i["j"])("data-v-70f0ff68");var le={key:0,class:"info bordered"},ue=Object(i["f"])("div",{class:"info-header"},"About the book",-1),de={class:"info-key"},be={class:"info-value"};Object(i["i"])();var he=ce((function(e,t,n,o,r,a){return e.store.state.info?(Object(i["h"])(),Object(i["c"])("div",le,[ue,(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(Object.entries(e.store.state.info).filter((function(e){return e[0]})),(function(e){return Object(i["h"])(),Object(i["c"])("div",{class:"info-row bordered",key:e[0]},[Object(i["f"])("div",de,Object(i["n"])(e[0]),1),Object(i["f"])("div",be,Object(i["n"])(e[1]),1)])})),128))])):Object(i["d"])("",!0)})),fe=Object(i["g"])({name:"Info",setup:function(){return Object(i["o"])((function(){p.state.info&&Object.keys(p.state.info).length&&setTimeout((function(){f["a"].timeline().fromTo(".info-key",1,{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)",stagger:.1}).fromTo(".info-value",1,{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)",stagger:.1},"<.3")}),10)})),{store:p}}});n("b421");fe.render=he,fe.__scopeId="data-v-70f0ff68";var ve=fe,me=Object(i["q"])("data-v-a913258a");Object(i["j"])("data-v-a913258a");var ge={key:0,class:"similars-container"},pe=Object(i["f"])("div",{class:"similars-header bordered"},"Similar Books",-1),ye={class:"similars"};Object(i["i"])();var Oe=me((function(e,t,n,o,r,a){var s=Object(i["m"])("SimilarsItem");return e.store.state.similars.length?(Object(i["h"])(),Object(i["c"])("div",ge,[pe,Object(i["f"])("div",ye,[(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(e.store.state.similars.filter((function(e,t){return t<16})),(function(e,t){return Object(i["h"])(),Object(i["c"])(s,{key:t,index:t,cover:e.cover,title:e.title,author:e.author,description:e.description,url:e.url},null,8,["index","cover","title","author","description","url"])})),128))])])):Object(i["d"])("",!0)})),je=Object(i["q"])("data-v-50fb4239");Object(i["j"])("data-v-50fb4239");var we={class:"similars-cover"};Object(i["i"])();var xe=je((function(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",{class:"similars-item",id:"similar-"+e.index,onClick:t[1]||(t[1]=function(){return e.select&&e.select.apply(e,arguments)}),"data-url":e.url},[Object(i["f"])("div",we,[Object(i["f"])("img",{src:e.cover,alt:e.title},null,8,["src","alt"])])],8,["id","data-url"])}));f["a"].registerPlugin(M["a"]);var Se=Object(i["g"])({name:"SimilarsItem",props:{title:String,author:String,cover:String,description:String,index:Number,url:String},setup:function(){return{store:p}},mounted:function(){var e=document.getElementById("similar-"+this.index),t=document.querySelector(".similars");e&&(e.onmouseover=function(){},t.onmouseleave=function(){})},methods:{select:function(e){var t=e.target;t.classList.contains("similars-item")&&(p.hideBookScreen(),p.state.isLoading=!0,this.title&&this.cover&&this.url&&this.author&&k.select({title:this.title,cover:this.cover,url:this.url,author:this.author}))}}});n("e97e");Se.render=xe,Se.__scopeId="data-v-50fb4239";var ke=Se;f["a"].registerPlugin(M["a"]);var Le=Object(i["g"])({name:"Similars",setup:function(){return Object(i["o"])((function(){p.state.similars.length&&!document.querySelector(".similars-container")&&setTimeout((function(){f["a"].to(".similars-header",.5,{clipPath:"inset(0 0% 0 0)"}),f["a"].to(".similars-item",.5,{y:0,opacity:1,stagger:.1,ease:"power4.out"})}),0)})),{store:p}},components:{SimilarsItem:ke},methods:{}});n("5093");Le.render=Oe,Le.__scopeId="data-v-a913258a";var Ce=Le,Ae=Object(i["q"])("data-v-83c72ce4");Object(i["j"])("data-v-83c72ce4");var _e={class:"downloads bordered"},De={key:0,class:"downloads-loader"},Ee=Object(i["f"])("div",{class:"downloads-loader-wheel"},null,-1),Be={key:1,class:"downloads-links"};Object(i["i"])();var ze=Ae((function(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",_e,[e.store.state.downloads&&!Object.keys(e.store.state.downloads).length||!e.store.state.downloads?(Object(i["h"])(),Object(i["c"])("div",De,[Ee,Object(i["f"])("img",{class:"downloads-loader-text",src:e.searchingIcon},null,8,["src"])])):Object(i["d"])("",!0),e.store.state.downloads?(Object(i["h"])(),Object(i["c"])("div",Be,[(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(Object.entries(e.store.state.downloads),(function(e){return Object(i["h"])(),Object(i["c"])("a",{class:"downloads-link",key:e[0],href:e[1],download:""},Object(i["n"])(e[0]),9,["href"])})),128))])):Object(i["d"])("",!0)])})),Ne=Object(i["g"])({name:"Downloads",data:function(){return{searchingIcon:n("887a")}},setup:function(){return{store:p}}});n("b57a");Ne.render=ze,Ne.__scopeId="data-v-83c72ce4";var Te=Ne,Ie=Object(i["q"])("data-v-2c938659");Object(i["j"])("data-v-2c938659");var Ue={key:0,class:"genres bordered"},Fe=Object(i["f"])("div",{class:"genres-header"},"Genres",-1),Me={class:"genres-container"},Re={class:"genres-title"};Object(i["i"])();var qe=Ie((function(e,t,n,o,r,a){return e.store.state.book.genres?(Object(i["h"])(),Object(i["c"])("div",Ue,[Fe,Object(i["f"])("div",Me,[(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(e.store.state.book.genres,(function(e,t){return Object(i["h"])(),Object(i["c"])("div",{class:"genres-item",key:e.title,id:"genre-".concat(t),"data-url":e.url},[Object(i["f"])("div",Re,Object(i["n"])(e.title),1)],8,["id","data-url"])})),128))])])):Object(i["d"])("",!0)})),Pe=n("53ca"),Ge=Object(i["g"])({name:"Genres",setup:function(){return{store:p}},mounted:function(){var e=this;Object(i["o"])((function(){var t;null!==(t=p.state.book.genres)&&void 0!==t&&t.length&&setTimeout((function(){var t=Array.from(document.querySelectorAll(".genres-item"));f["a"].fromTo(".genres-item",1,{clipPath:"inset(0% 100% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",stagger:.2});for(var n=function(n){if(!p.state.book.genres||!p.state.book.genres[n]||!t[n])return{v:void 0};var i=t[n];i.onmouseover=function(){f["a"].to(this,.25,{height:60}),f["a"].to(".genres-item:not(#".concat(i.id,")"),.25,{height:30})},i.onmouseleave=function(){f["a"].to(this,.25,{height:30})},e.requestGenre&&(i.onclick=e.requestGenre),i.style.width="".concat(p.state.book.genres[n].amount/p.state.book.genres[0].amount*95,"%"),i.style.background="#2c3e50".concat(100-8*n)},i=0;i<t.length;i++){var o=n(i);if("object"===Object(Pe["a"])(o))return o.v}}),10)}))},methods:{requestGenre:function(e){var t=e.target,n=t.dataset.url;k.genre(n)}}});n("55e9");Ge.render=qe,Ge.__scopeId="data-v-2c938659";var Ve=Ge,He=Object(i["q"])("data-v-0185ef11");Object(i["j"])("data-v-0185ef11");var Ye={class:"reviews bordered"},We=Object(i["f"])("div",{class:"reviews-header header"},"Reviews",-1),Ke={class:"reviews-container"},Qe={class:"reviews-item-header"},Xe={class:"reviews-item-author"},Ze={class:"reviews-item-date"},Je={class:"reviews-item-text"};Object(i["i"])();var $e=He((function(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",Ye,[We,Object(i["f"])("div",Ke,[(Object(i["h"])(!0),Object(i["c"])(i["a"],null,Object(i["l"])(e.store.state.book.reviews,(function(e){return Object(i["h"])(),Object(i["c"])("div",{class:"reviews-item",key:e.name},[Object(i["f"])("div",Qe,[Object(i["f"])("div",Xe,Object(i["n"])(e.name),1),Object(i["f"])("div",Ze,Object(i["n"])(e.date),1)]),Object(i["f"])("div",Je,Object(i["n"])(e.text),1)])})),128))])])})),et=(n("d81d"),Object(i["g"])({name:"Reviews",setup:function(){return{store:p}},mounted:function(){Object(i["o"])((function(){var e;null!==(e=p.state.book.reviews)&&void 0!==e&&e.length&&setTimeout((function(){var e=Array.from(document.querySelectorAll(".reviews-item-text"));e.map((function(e){e.onmouseover=function(){e.style.height=e.scrollHeight+"px",e.parentNode.style.height=e.scrollHeight+60+"px"},e.onmouseleave=function(){e.style.height="140px",e.parentNode.style.height="200px"}}))}),10)}))}}));n("7390");et.render=$e,et.__scopeId="data-v-0185ef11";var tt=et,nt=Object(i["g"])({name:"BookSelected",components:{Book:q,Author:se,Info:ve,Similars:Ce,Downloads:Te,Genres:Ve,Reviews:tt},setup:function(){return{bookStore:p}},mounted:function(){f["a"].to(".book-selected",{autoAlpha:0,scale:.6})}});n("dabe");nt.render=E,nt.__scopeId="data-v-a1473174";var it=nt,ot=Object(i["q"])("data-v-05a238e9");Object(i["j"])("data-v-05a238e9");var rt=Object(i["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 229.99"},[Object(i["f"])("g",{id:"Layer_2","data-name":"Layer 2"},[Object(i["f"])("g",{id:"Layer_1-2","data-name":"Layer 1"},[Object(i["f"])("rect",{class:"cls-1",x:"1",y:"1",width:"148",height:"227.99"})])])],-1),at=Object(i["e"])(),st={class:"book-cover"};Object(i["i"])();var ct=ot((function(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",{class:"search-item",id:"book-"+e.id,onClick:t[1]||(t[1]=function(){return e.select&&e.select.apply(e,arguments)}),"data-url":e.url,title:e.title},[rt,at,Object(i["f"])("div",st,[Object(i["f"])("img",{src:e.cover,alt:e.title},null,8,["src","alt"])])],8,["id","data-url","title"])})),lt=Object(i["g"])({name:"Book",props:{id:Number,title:String,author:String,cover:String,year:String,index:Number,url:String,isbn:String,isSearch:Boolean},mounted:function(){var e=this,t=document.querySelector("#book-".concat(this.id));t.addEventListener("mouseenter",(function(){f["a"].to("#book-".concat(e.id," rect"),2,{strokeDashoffset:0,ease:"power2.out"})})),t.addEventListener("mouseleave",(function(){f["a"].to("#book-".concat(e.id," rect"),2,{strokeDashoffset:1e3,ease:"power2.out"})}))},methods:{select:function(e){var t=e.target;t.classList.contains("search-item")&&(p.state.isLoading=!0,this.url&&this.title&&this.cover&&this.author&&k.select({url:this.url,title:this.title,cover:this.cover,author:this.author}),f["a"].timeline().to(".search-result",.2,{autoAlpha:0},"<").to(".search-result",0,{height:0}))}}});n("5532");lt.render=ct,lt.__scopeId="data-v-05a238e9";var ut=lt,dt=Object(i["f"])("svg",{class:"loading-div",width:"100",height:"100",viewBox:"0 0 52 54",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Object(i["f"])("defs",null,[Object(i["f"])("linearGradient",{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[Object(i["f"])("stop",{offset:"0%",style:{"stop-color":"rgb(260,260,260)","stop-opacity":"1"}}),Object(i["f"])("stop",{offset:"100%",style:{"stop-color":"rgb(220,220,220)","stop-opacity":"1"}})])]),Object(i["f"])("g",{id:"theWholeBook"},[Object(i["f"])("g",{id:"bookRect"},[Object(i["f"])("rect",{id:"bRect",x:"0",y:"15",width:"52",height:"39",ry:"2"}),Object(i["f"])("rect",{id:"bottomBookSpine",x:"3",y:"51",width:"46",height:"3"})]),Object(i["f"])("polygon",{fill:"url(#grad1)",points:"26 13 49.5735685 12.2915037 49.5735685 51.2915037 26 52",ry:"2"}),Object(i["f"])("polygon",{fill:"url(#grad1)",class:"last_page",points:"26 13 49.5735685 12.2915037 49.5735685 51.2915037 26 52",ry:"2"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"10000ms",repeatCount:"indefinite",to:"26 13 44.372231 3.8589904 44.372231 42.8589904 26 52"})]),Object(i["f"])("polygon",{fill:"#D9D8D2",points:"26 13 44.372231 3.8589904 44.372231 42.8589904 26 52",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"10000ms",repeatCount:"indefinite",to:"26 13 36.3883757 0.178966842 36.3883757 39.1789668 26 52"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"10000ms",repeatCount:"indefinite",to:"#EDECE6"})]),Object(i["f"])("polygon",{fill:"#EDECE6",points:"26 13 36.3883757 0.178966842 36.3883757 39.1789668 26 52",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"10000ms",repeatCount:"indefinite",to:"26 13 30.3765696 0.292749915 30.3765696 39.2927499 26 52"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"10000ms",repeatCount:"indefinite",to:"#F2F1EB"})]),Object(i["f"])("polygon",{fill:"#F2F1EB",points:"26 13 30.3765696 0.292749915 30.3765696 39.2927499 26 52",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"1300ms",repeatCount:"indefinite",to:"26 15 26 0.960355416 26 41.1230808 26 54"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"1300ms",repeatCount:"indefinite",to:"#F2F1EB"})]),Object(i["f"])("polygon",{fill:"#C7C6C1",points:"26 13 26 52 2.42643155 51.2915037 2.42643155 12.2915037",ry:"1"}),Object(i["f"])("polygon",{fill:"#D9D8D2",points:"26 13 26 52 7.62776902 42.8589904 7.62776902 3.8589904"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"300ms",repeatCount:"indefinite",to:"26 13 26 52 2.42643155 51.2915037 2.42643155 12.2915037"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"300ms",repeatCount:"indefinite",to:"#C7C6C1"})]),Object(i["f"])("polygon",{fill:"#EDECE6",points:"26 13 26 52 15.6116243 39.1789668 15.6116243 0.178966842",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"300ms",repeatCount:"indefinite",to:"26 13 26 52 7.62776902 42.8589904 7.62776902 3.8589904"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"300ms",repeatCount:"indefinite",to:"#D9D8D2"})]),Object(i["f"])("polygon",{fill:"#F2F1EB",points:"26 13 26 52 21.6234304 39.2927499 21.6234304 0.292749915",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"300ms",repeatCount:"indefinite",to:"26 13 26 52 15.6116243 39.1789668 15.6116243 0.178966842"}),Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"fill",dur:"300ms",repeatCount:"indefinite",to:"#EDECE6"})]),Object(i["f"])("polygon",{fill:"#F2F1EB",points:"26 13 26 52 25.6234304 39.2927499 25.6234304 0.292749915",ry:"1"},[Object(i["f"])("animate",{begin:"0s",fill:"freeze",attributeName:"points",dur:"300ms",repeatCount:"indefinite",to:"26 13 26 52 21.6234304 39.2927499 21.6234304 0.292749915"})])])],-1);function bt(e,t,n,o,r,a){return Object(i["h"])(),Object(i["c"])("div",{class:"loading",style:"opacity: ".concat(e.store.state.isLoading?"1":"0")},[dt],4)}var ht=Object(i["g"])({name:"Loading",setup:function(){return{store:p}}});n("52a8");ht.render=bt;var ft=ht,vt=n("1da1"),mt=n("3835"),gt=n("2909"),pt=n("d4ec"),yt=n("bee2"),Ot=n("ade3");n("96cf"),n("99af"),n("a15b"),n("d3b7"),n("ddb0"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("84c3"),n("498a");function jt(e){return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]}["SCREEN","LINEAR_LIGHT"].reduce((function(e,t,n){return Object.assign(e,Object(Ot["a"])({},t,n))}),{});var wt=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(pt["a"])(this,e);var r=this,a=-1!==document.location.search.toLowerCase().indexOf("debug=webgl");r.canvas=t,r.gl=r.canvas.getContext("webgl",{antialias:!0}),r.meshes=[];var s=r.gl;n&&i&&this.setSize(n,i),r.lastDebugMsg,r.debug=o&&a?function(e){var t,n=new Date;n-r.lastDebugMsg>1e3&&console.log("---"),(t=console).log.apply(t,[n.toLocaleTimeString()+Array(Math.max(0,32-e.length)).join(" ")+e+": "].concat(Object(gt["a"])(Array.from(arguments).slice(1)))),r.lastDebugMsg=n}:function(){},Object.defineProperties(r,{Material:{enumerable:!1,value:function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(pt["a"])(this,e);var o=this;function a(e,t){var n=s.createShader(e);return s.shaderSource(n,t),s.compileShader(n),s.getShaderParameter(n,s.COMPILE_STATUS)||console.error(s.getShaderInfoLog(n)),r.debug("Material.compileShaderSource",{source:t}),n}function c(e,t){return Object.entries(e).map((function(e){var n=Object(mt["a"])(e,2),i=n[0],o=n[1];return o.getDeclaration(i,t)})).join("\n")}o.uniforms=i,o.uniformInstances=[];var l="\n              precision highp float;\n            ";o.vertexSource="\n              ".concat(l,"\n              attribute vec4 position;\n              attribute vec2 uv;\n              attribute vec2 uvNorm;\n              ").concat(c(r.commonUniforms,"vertex"),"\n              ").concat(c(i,"vertex"),"\n              ").concat(t,"\n            "),o.Source="\n              ".concat(l,"\n              ").concat(c(r.commonUniforms,"fragment"),"\n              ").concat(c(i,"fragment"),"\n              ").concat(n,"\n            "),o.vertexShader=a(s.VERTEX_SHADER,o.vertexSource),o.fragmentShader=a(s.FRAGMENT_SHADER,o.Source),o.program=s.createProgram(),s.attachShader(o.program,o.vertexShader),s.attachShader(o.program,o.fragmentShader),s.linkProgram(o.program),s.getProgramParameter(o.program,s.LINK_STATUS)||console.error(s.getProgramInfoLog(o.program)),s.useProgram(o.program),o.attachUniforms(void 0,r.commonUniforms),o.attachUniforms(void 0,o.uniforms)}return Object(yt["a"])(e,[{key:"attachUniforms",value:function(e,t){var n=this;void 0===e?Object.entries(t).forEach((function(e){var t=Object(mt["a"])(e,2),i=t[0],o=t[1];n.attachUniforms(i,o)})):"array"==t.type?t.value.forEach((function(t,i){return n.attachUniforms("".concat(e,"[").concat(i,"]"),t)})):"struct"==t.type?Object.entries(t.value).forEach((function(t){var i=Object(mt["a"])(t,2),o=i[0],r=i[1];return n.attachUniforms("".concat(e,".").concat(o),r)})):(r.debug("Material.attachUniforms",{name:e,uniform:t}),n.uniformInstances.push({uniform:t,location:s.getUniformLocation(n.program,e)}))}}]),e}()},Uniform:{enumerable:!1,value:function(){function e(t){Object(pt["a"])(this,e),this.type="float",Object.assign(this,t),this.typeFn={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"}[this.type]||"1f",this.update()}return Object(yt["a"])(e,[{key:"update",value:function(e){void 0!==this.value&&s["uniform".concat(this.typeFn)](e,0===this.typeFn.indexOf("Matrix")?this.transpose:this.value,0===this.typeFn.indexOf("Matrix")?this.value:null)}},{key:"getDeclaration",value:function(e,t,n){var i=this;if(i.excludeFrom!==t){if("array"===i.type)return i.value[0].getDeclaration(e,t,i.value.length)+"\nconst int ".concat(e,"_length = ").concat(i.value.length,";");if("struct"===i.type){var o=e.replace("u_","");return o=o.charAt(0).toUpperCase()+o.slice(1),"uniform struct ".concat(o," \n                                  {\n")+Object.entries(i.value).map((function(e){var n=Object(mt["a"])(e,2),i=n[0],o=n[1];return o.getDeclaration(i,t).replace(/^uniform/,"")})).join("")+"\n} ".concat(e).concat(n>0?"[".concat(n,"]"):"",";")}return"uniform ".concat(i.type," ").concat(e).concat(n>0?"[".concat(n,"]"):"",";")}}}]),e}()},PlaneGeometry:{enumerable:!1,value:function(){function e(t,n,i,o,a){Object(pt["a"])(this,e),s.createBuffer(),this.attributes={position:new r.Attribute({target:s.ARRAY_BUFFER,size:3}),uv:new r.Attribute({target:s.ARRAY_BUFFER,size:2}),uvNorm:new r.Attribute({target:s.ARRAY_BUFFER,size:2}),index:new r.Attribute({target:s.ELEMENT_ARRAY_BUFFER,size:3,type:s.UNSIGNED_SHORT})},this.setTopology(i,o),this.setSize(t,n,a)}return Object(yt["a"])(e,[{key:"setTopology",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this;n.xSegCount=e,n.ySegCount=t,n.vertexCount=(n.xSegCount+1)*(n.ySegCount+1),n.quadCount=n.xSegCount*n.ySegCount*2,n.attributes.uv.values=new Float32Array(2*n.vertexCount),n.attributes.uvNorm.values=new Float32Array(2*n.vertexCount),n.attributes.index.values=new Uint16Array(3*n.quadCount);for(var i=0;i<=n.ySegCount;i++)for(var o=0;o<=n.xSegCount;o++){var a=i*(n.xSegCount+1)+o;if(n.attributes.uv.values[2*a]=o/n.xSegCount,n.attributes.uv.values[2*a+1]=1-i/n.ySegCount,n.attributes.uvNorm.values[2*a]=o/n.xSegCount*2-1,n.attributes.uvNorm.values[2*a+1]=1-i/n.ySegCount*2,o<n.xSegCount&&i<n.ySegCount){var s=i*n.xSegCount+o;n.attributes.index.values[6*s]=a,n.attributes.index.values[6*s+1]=a+1+n.xSegCount,n.attributes.index.values[6*s+2]=a+1,n.attributes.index.values[6*s+3]=a+1,n.attributes.index.values[6*s+4]=a+1+n.xSegCount,n.attributes.index.values[6*s+5]=a+2+n.xSegCount}}n.attributes.uv.update(),n.attributes.uvNorm.update(),n.attributes.index.update(),r.debug("Geometry.setTopology",{uv:n.attributes.uv,uvNorm:n.attributes.uvNorm,index:n.attributes.index})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"xz",i=this;i.width=e,i.height=t,i.orientation=n,i.attributes.position.values&&i.attributes.position.values.length===3*i.vertexCount||(i.attributes.position.values=new Float32Array(3*i.vertexCount));for(var o=e/-2,a=t/-2,s=e/i.xSegCount,c=t/i.ySegCount,l=0;l<=i.ySegCount;l++)for(var u=a+l*c,d=0;d<=i.xSegCount;d++){var b=o+d*s,h=l*(i.xSegCount+1)+d;i.attributes.position.values[3*h+"xyz".indexOf(n[0])]=b,i.attributes.position.values[3*h+"xyz".indexOf(n[1])]=-u}i.attributes.position.update(),r.debug("Geometry.setSize",{position:i.attributes.position})}}]),e}()},Mesh:{enumerable:!1,value:function(){function e(t,n){Object(pt["a"])(this,e);var i=this;i.geometry=t,i.material=n,i.wireframe=!1,i.attributeInstances=[],Object.entries(i.geometry.attributes).forEach((function(e){var t=Object(mt["a"])(e,2),n=t[0],o=t[1];i.attributeInstances.push({attribute:o,location:o.attach(n,i.material.program)})})),r.meshes.push(i),r.debug("Mesh.constructor",{mesh:i})}return Object(yt["a"])(e,[{key:"draw",value:function(){s.useProgram(this.material.program),this.material.uniformInstances.forEach((function(e){var t=e.uniform,n=e.location;return t.update(n)})),this.attributeInstances.forEach((function(e){var t=e.attribute,n=e.location;return t.use(n)})),s.drawElements(this.wireframe?s.LINES:s.TRIANGLES,this.geometry.attributes.index.values.length,s.UNSIGNED_SHORT,0)}},{key:"remove",value:function(){var e=this;r.meshes=r.meshes.filter((function(t){return t!=e}))}}]),e}()},Attribute:{enumerable:!1,value:function(){function e(t){Object(pt["a"])(this,e),this.type=s.FLOAT,this.normalized=!1,this.buffer=s.createBuffer(),Object.assign(this,t),this.update()}return Object(yt["a"])(e,[{key:"update",value:function(){void 0!==this.values&&(s.bindBuffer(this.target,this.buffer),s.bufferData(this.target,this.values,s.STATIC_DRAW))}},{key:"attach",value:function(e,t){var n=s.getAttribLocation(t,e);return this.target===s.ARRAY_BUFFER&&(s.enableVertexAttribArray(n),s.vertexAttribPointer(n,this.size,this.type,this.normalized,0,0)),n}},{key:"use",value:function(e){s.bindBuffer(this.target,this.buffer),this.target===s.ARRAY_BUFFER&&(s.enableVertexAttribArray(e),s.vertexAttribPointer(e,this.size,this.type,this.normalized,0,0))}}]),e}()}});var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];r.commonUniforms={projectionMatrix:new r.Uniform({type:"mat4",value:c}),modelViewMatrix:new r.Uniform({type:"mat4",value:c}),resolution:new r.Uniform({type:"vec2",value:[1,1]}),aspectRatio:new r.Uniform({type:"float",value:1})}}return Object(yt["a"])(e,[{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.gl.viewport(0,0,e,t),this.commonUniforms.resolution.value=[e,t],this.commonUniforms.aspectRatio.value=e/t,this.debug("MiniGL.setSize",{width:e,height:t})}},{key:"setOrthographicCamera",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-2e3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,2/(i-o),0,e,t,n,1],this.debug("setOrthographicCamera",this.commonUniforms.projectionMatrix.value)}},{key:"render",value:function(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach((function(e){return e.draw()}))}}]),e}();function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St,kt=function(){function e(){var t=this;Object(pt["a"])(this,e),xt(this,"el",void 0),xt(this,"cssVarRetries",0),xt(this,"maxCssVarRetries",200),xt(this,"angle",0),xt(this,"isLoadedClass",!1),xt(this,"isScrolling",!1),xt(this,"scrollingTimeout",void 0),xt(this,"scrollingRefreshDelay",200),xt(this,"isIntersecting",!1),xt(this,"shaderFiles",void 0),xt(this,"vertexShader",void 0),xt(this,"sectionColors",void 0),xt(this,"computedCanvasStyle",void 0),xt(this,"conf",void 0),xt(this,"uniforms",void 0),xt(this,"t",1253106),xt(this,"last",0),xt(this,"width",void 0),xt(this,"minWidth",1111),xt(this,"height",600),xt(this,"xSegCount",void 0),xt(this,"ySegCount",void 0),xt(this,"mesh",void 0),xt(this,"material",void 0),xt(this,"geometry",void 0),xt(this,"minigl",void 0),xt(this,"scrollObserver",void 0),xt(this,"amp",320),xt(this,"seed",5),xt(this,"freqX",14e-5),xt(this,"freqY",29e-5),xt(this,"freqDelta",1e-5),xt(this,"activeColors",[1,1,1,1]),xt(this,"isMetaKey",!1),xt(this,"isGradientLegendVisible",!1),xt(this,"isMouseDown",!1),xt(this,"handleScroll",(function(){clearTimeout(t.scrollingTimeout),t.scrollingTimeout=setTimeout(t.handleScrollEnd,t.scrollingRefreshDelay),t.isGradientLegendVisible&&t.hideGradientLegend(),t.conf.playing&&(t.isScrolling=!0,t.pause())})),xt(this,"handleScrollEnd",(function(){t.isScrolling=!1,t.isIntersecting&&t.play()})),xt(this,"resize",(function(){t.width=window.innerWidth,t.minigl.setSize(t.width,t.height),t.minigl.setOrthographicCamera(),t.xSegCount=Math.ceil(t.width*t.conf.density[0]),t.ySegCount=Math.ceil(t.height*t.conf.density[1]),t.mesh.geometry.setTopology(t.xSegCount,t.ySegCount),t.mesh.geometry.setSize(t.width,t.height),t.mesh.material.uniforms.u_shadow_power.value=t.width<600?5:6})),xt(this,"handleMouseDown",(function(e){t.isGradientLegendVisible&&(t.isMetaKey=e.metaKey,t.isMouseDown=!0,!1===t.conf.playing&&requestAnimationFrame(t.animate))})),xt(this,"handleMouseUp",(function(){t.isMouseDown=!1})),xt(this,"animate",(function(e){if(!t.shouldSkipFrame(e)||t.isMouseDown){if(t.t+=Math.min(e-t.last,1e3/15),t.last=e,t.isMouseDown){var n=160;t.isMetaKey&&(n=-160),t.t+=n}t.mesh.material.uniforms.u_time.value=t.t,t.minigl.render()}if(0!==t.last&&t.isStatic)return t.minigl.render(),void t.disconnect();(t.conf.playing||t.isMouseDown)&&requestAnimationFrame(t.animate)})),xt(this,"addIsLoadedClass",(function(){!t.isLoadedClass&&(t.isLoadedClass=!0,t.el.classList.add("isLoaded"),setTimeout((function(){t.el.parentElement.classList.add("isLoaded")}),3e3))})),xt(this,"pause",(function(){t.conf.playing=!1})),xt(this,"play",(function(){requestAnimationFrame(t.animate),t.conf.playing=!0,t.pause=void 0})),xt(this,"initGradient",(function(e){return t.el=document.querySelector(e),t.initGradient=void 0,t.pause=void 0,t.connect(),t}))}return Object(yt["a"])(e,[{key:"pause",value:function(){throw new Error("Method not implemented.")}},{key:"initGradient",value:function(e){throw new Error("Method not implemented.")}},{key:"connect",value:function(){var e=Object(vt["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.shaderFiles={vertex:"varying vec3 v_color;\n\nvoid main() {\n  float time = u_time * u_global.noiseSpeed;\n\n  vec2 noiseCoord = resolution * uvNorm * u_global.noiseFreq;\n\n  vec2 st = 1. - uvNorm.xy;\n\n  //\n  // Tilting the plane\n  //\n\n  // Front-to-back tilt\n  float tilt = resolution.y / 2.0 * uvNorm.y;\n\n  // Left-to-right angle\n  float incline = resolution.x * uvNorm.x / 2.0 * u_vertDeform.incline;\n\n  // Up-down shift to offset incline\n  float offset = resolution.x / 2.0 * u_vertDeform.incline * mix(u_vertDeform.offsetBottom, u_vertDeform.offsetTop, uv.y);\n\n  //\n  // Vertex noise\n  //\n\n  float noise = snoise(vec3(\n    noiseCoord.x * u_vertDeform.noiseFreq.x + time * u_vertDeform.noiseFlow,\n    noiseCoord.y * u_vertDeform.noiseFreq.y,\n    time * u_vertDeform.noiseSpeed + u_vertDeform.noiseSeed\n  )) * u_vertDeform.noiseAmp;\n\n  // Fade noise to zero at edges\n  noise *= 1.0 - pow(abs(uvNorm.y), 2.0);\n\n  // Clamp to 0\n  noise = max(0.0, noise);\n\n  vec3 pos = vec3(\n    position.x,\n    position.y + tilt + incline + noise - offset,\n    position.z\n  );\n\n  //\n  // Vertex color, to be passed to fragment shader\n  //\n\n  if (u_active_colors[0] == 1.) {\n    v_color = u_baseColor;\n  }\n\n  for (int i = 0; i < u_waveLayers_length; i++) {\n    if (u_active_colors[i + 1] == 1.) {\n      WaveLayers layer = u_waveLayers[i];\n\n      float noise = smoothstep(\n        layer.noiseFloor,\n        layer.noiseCeil,\n        snoise(vec3(\n          noiseCoord.x * layer.noiseFreq.x + time * layer.noiseFlow,\n          noiseCoord.y * layer.noiseFreq.y,\n          time * layer.noiseSpeed + layer.noiseSeed\n        )) / 2.0 + 0.5\n      );\n\n      v_color = blendNormal(v_color, layer.color, pow(noise, 4.));\n    }\n  }\n\n  //\n  // Finish\n  //\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}",noise:"//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n    return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n{\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n            i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n          + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n          + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n}",blend:"//\n// https://github.com/jamieowen/glsl-blend\n//\n\n// Normal\n\nvec3 blendNormal(vec3 base, vec3 blend) {\n\treturn blend;\n}\n\nvec3 blendNormal(vec3 base, vec3 blend, float opacity) {\n\treturn (blendNormal(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Screen\n\nfloat blendScreen(float base, float blend) {\n\treturn 1.0-((1.0-base)*(1.0-blend));\n}\n\nvec3 blendScreen(vec3 base, vec3 blend) {\n\treturn vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));\n}\n\nvec3 blendScreen(vec3 base, vec3 blend, float opacity) {\n\treturn (blendScreen(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Multiply\n\nvec3 blendMultiply(vec3 base, vec3 blend) {\n\treturn base*blend;\n}\n\nvec3 blendMultiply(vec3 base, vec3 blend, float opacity) {\n\treturn (blendMultiply(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Overlay\n\nfloat blendOverlay(float base, float blend) {\n\treturn base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend) {\n\treturn vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend, float opacity) {\n\treturn (blendOverlay(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Hard light\n\nvec3 blendHardLight(vec3 base, vec3 blend) {\n\treturn blendOverlay(blend,base);\n}\n\nvec3 blendHardLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendHardLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Soft light\n\nfloat blendSoftLight(float base, float blend) {\n\treturn (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend) {\n\treturn vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Color dodge\n\nfloat blendColorDodge(float base, float blend) {\n\treturn (blend==1.0)?blend:min(base/(1.0-blend),1.0);\n}\n\nvec3 blendColorDodge(vec3 base, vec3 blend) {\n\treturn vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));\n}\n\nvec3 blendColorDodge(vec3 base, vec3 blend, float opacity) {\n\treturn (blendColorDodge(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Color burn\n\nfloat blendColorBurn(float base, float blend) {\n\treturn (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);\n}\n\nvec3 blendColorBurn(vec3 base, vec3 blend) {\n\treturn vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));\n}\n\nvec3 blendColorBurn(vec3 base, vec3 blend, float opacity) {\n\treturn (blendColorBurn(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Vivid Light\n\nfloat blendVividLight(float base, float blend) {\n\treturn (blend<0.5)?blendColorBurn(base,(2.0*blend)):blendColorDodge(base,(2.0*(blend-0.5)));\n}\n\nvec3 blendVividLight(vec3 base, vec3 blend) {\n\treturn vec3(blendVividLight(base.r,blend.r),blendVividLight(base.g,blend.g),blendVividLight(base.b,blend.b));\n}\n\nvec3 blendVividLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendVividLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Lighten\n\nfloat blendLighten(float base, float blend) {\n\treturn max(blend,base);\n}\n\nvec3 blendLighten(vec3 base, vec3 blend) {\n\treturn vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));\n}\n\nvec3 blendLighten(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLighten(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Linear burn\n\nfloat blendLinearBurn(float base, float blend) {\n\t// Note : Same implementation as BlendSubtractf\n\treturn max(base+blend-1.0,0.0);\n}\n\nvec3 blendLinearBurn(vec3 base, vec3 blend) {\n\t// Note : Same implementation as BlendSubtract\n\treturn max(base+blend-vec3(1.0),vec3(0.0));\n}\n\nvec3 blendLinearBurn(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearBurn(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Linear dodge\n\nfloat blendLinearDodge(float base, float blend) {\n\t// Note : Same implementation as BlendAddf\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendLinearDodge(vec3 base, vec3 blend) {\n\t// Note : Same implementation as BlendAdd\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearDodge(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n// Linear light\n\nfloat blendLinearLight(float base, float blend) {\n\treturn blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));\n}\n\nvec3 blendLinearLight(vec3 base, vec3 blend) {\n\treturn vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));\n}\n\nvec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearLight(base, blend) * opacity + base * (1.0 - opacity));\n}",fragment:"varying vec3 v_color;\n\nvoid main() {\n  vec3 color = v_color;\n  if (u_darken_top == 1.0) {\n    vec2 st = gl_FragCoord.xy/resolution.xy;\n    color.g -= pow(st.y + sin(-12.0) * st.x, u_shadow_power) * 0.4;\n  }\n  gl_FragColor = vec4(color, 1.0);\n}"},this.conf={presetName:"",wireframe:!1,density:[.06,.16],zoom:1,rotation:0,playing:!0},document.querySelectorAll("canvas").length<1?console.log("DID NOT LOAD HERO STRIPE CANVAS"):(this.minigl=new wt(this.el,null,null,!0),requestAnimationFrame((function(){t.el&&(t.computedCanvasStyle=getComputedStyle(t.el),t.waitForCssVars())})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){this.scrollObserver&&(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeyDown),this.scrollObserver.disconnect()),window.removeEventListener("resize",this.resize)}},{key:"initMaterial",value:function(){this.uniforms={u_time:new this.minigl.Uniform({value:0}),u_shadow_power:new this.minigl.Uniform({value:5}),u_darken_top:new this.minigl.Uniform({value:""===this.el.dataset.jsDarkenTop?1:0}),u_active_colors:new this.minigl.Uniform({value:this.activeColors,type:"vec4"}),u_global:new this.minigl.Uniform({value:{noiseFreq:new this.minigl.Uniform({value:[this.freqX,this.freqY],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:5e-6})},type:"struct"}),u_vertDeform:new this.minigl.Uniform({value:{incline:new this.minigl.Uniform({value:Math.sin(this.angle)/Math.cos(this.angle)}),offsetTop:new this.minigl.Uniform({value:-.5}),offsetBottom:new this.minigl.Uniform({value:-.5}),noiseFreq:new this.minigl.Uniform({value:[3,4],type:"vec2"}),noiseAmp:new this.minigl.Uniform({value:this.amp}),noiseSpeed:new this.minigl.Uniform({value:10}),noiseFlow:new this.minigl.Uniform({value:3}),noiseSeed:new this.minigl.Uniform({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new this.minigl.Uniform({value:this.sectionColors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new this.minigl.Uniform({value:[],excludeFrom:"fragment",type:"array"})};for(var e=1;e<this.sectionColors.length;e+=1)this.uniforms.u_waveLayers.value.push(new this.minigl.Uniform({value:{color:new this.minigl.Uniform({value:this.sectionColors[e],type:"vec3"}),noiseFreq:new this.minigl.Uniform({value:[2+e/this.sectionColors.length,3+e/this.sectionColors.length],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:11+.3*e}),noiseFlow:new this.minigl.Uniform({value:6.5+.3*e}),noiseSeed:new this.minigl.Uniform({value:this.seed+10*e}),noiseFloor:new this.minigl.Uniform({value:.1}),noiseCeil:new this.minigl.Uniform({value:.63+.07*e})},type:"struct"}));return this.vertexShader=[this.shaderFiles.noise,this.shaderFiles.blend,this.shaderFiles.vertex].join("\n\n"),new this.minigl.Material(this.vertexShader,this.shaderFiles.fragment,this.uniforms)}},{key:"initMesh",value:function(){this.material=this.initMaterial(),this.geometry=new this.minigl.PlaneGeometry,this.mesh=new this.minigl.Mesh(this.geometry,this.material)}},{key:"shouldSkipFrame",value:function(e){return!!window.document.hidden||!this.conf.playing||parseInt(e,10)%2==0||void 0}},{key:"updateFrequency",value:function(e){this.freqX+=e,this.freqY+=e}},{key:"toggleColor",value:function(e){this.activeColors[e]=0===this.activeColors[e]?1:0}},{key:"showGradientLegend",value:function(){this.width>this.minWidth&&(this.isGradientLegendVisible=!0,document.body.classList.add("isGradientLegendVisible"))}},{key:"hideGradientLegend",value:function(){this.isGradientLegendVisible=!1,document.body.classList.remove("isGradientLegendVisible")}},{key:"init",value:function(){this.initGradientColors(),this.initMesh(),this.resize(),requestAnimationFrame(this.animate),window.addEventListener("resize",this.resize)}},{key:"waitForCssVars",value:function(){var e=this;if(this.computedCanvasStyle&&-1!==this.computedCanvasStyle.getPropertyValue("--gradient-color-1").indexOf("#"))this.init(),this.addIsLoadedClass();else{if(this.cssVarRetries+=1,this.cssVarRetries>this.maxCssVarRetries)return this.sectionColors=[16711680,16711680,16711935,65280,255],void this.init();requestAnimationFrame((function(){return e.waitForCssVars()}))}}},{key:"initGradientColors",value:function(){var e=this;this.sectionColors=["--gradient-color-1","--gradient-color-2","--gradient-color-3","--gradient-color-4"].map((function(t){var n=e.computedCanvasStyle.getPropertyValue(t).trim();if(4===n.length){var i=n.substr(1).split("").map((function(e){return e+e})).join("");n="#".concat(i)}return n&&"0x".concat(n.substr(1))})).filter(Boolean).map(jt)}}]),e}(),Lt=function(e,t,n){return e.map((function(i,o){return e[o+t+(n-1)*o]})).filter((function(e){return e}))},Ct=Object(i["g"])({name:"Main",setup:function(){return{store:p,eachNth:Lt}},mounted:function(){var e=document.querySelector(".search-result"),t=document.querySelector("#query"),n=document.querySelector(".main"),i=Array.from(document.querySelectorAll(".search-column")),o=window.innerWidth<window.innerHeight;i.forEach((function(e,t){1!==t&&3!==t||e.classList.add("center")})),null===n||void 0===n||n.addEventListener("scroll",(function(){window.innerWidth>600&&f["a"].to(".center",0,{y:.1*n.scrollTop})})),f["a"].timeline().from("input",1,{clipPath:"inset(0 50% 0 50%)"}).from(".main-header h1",1,{y:15,opacity:0}),e&&e.addEventListener("scroll",(function(){e.scrollLeft=0})),t&&(t.focus(),o&&(t.onclick=function(){return f["a"].to(".main-header",.5,{marginTop:"17vh"})}));var r=new kt;r.initGradient("#gradient-canvas")},data:function(){return{backButton:n("5e1a")}},components:{BookSelected:it,SearchItem:ut,Loading:ft},methods:{input:function(){var e=document.getElementById("query");p.setSearchResult([]),"none"===f["a"].getProperty(".search-result","display")&&f["a"].set(".search-result",{display:"flex"}),/[a-zA-Zа-яА-Я]/.test(e.value)||(p.state.isLoading=!1),p.state.book.title&&p.clearBook(),f["a"].set(".search-result",{scale:1,autoAlpha:1}),p.state.book.title&&p.hideBookScreen(),p.state.isLoading&&(p.state.shouldSearchAbort=!0,p.state.isLoading=!1),clearTimeout(St),St=setTimeout((function(){k.search(e.value),p.state.isLoading=!0,p.state.shouldSearchAbort=!1}),500)}}});n("fcae");Ct.render=b,Ct.__scopeId="data-v-1fe97fbe";var At=Ct;f["a"].registerPlugin(M["a"]);var _t=Object(i["g"])({name:"App",components:{Main:At}});n("35ad");_t.render=o;var Dt=_t;Object(i["b"])(Dt).mount("#app")},d0c0:function(e,t,n){},d9d3:function(e,t,n){},dabe:function(e,t,n){"use strict";n("d9d3")},de88:function(e,t,n){"use strict";n("4a35")},e97e:function(e,t,n){"use strict";n("7ab3")},fcae:function(e,t,n){"use strict";n("bd4e")}});
//# sourceMappingURL=app.0ef34a3f.js.map